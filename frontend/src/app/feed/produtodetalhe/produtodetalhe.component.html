<div class="container">


  <div class="row justify-content-md-center">

      <div class="col-lg-3 col-sm-4 mt-4">
        <div class="carrossel">
          <mdb-carousel class="carousel slide carousel-fade" [animation]="'fade'">
            <mdb-carousel-item>
              <div class="view w-100">
                <img class="d-block w-100" [src]="produto.imagem3" alt="First slide" width="250" height="221">
                <div class="mask rgba-black-light waves-light" mdbWavesEffect></div>
              </div>

            </mdb-carousel-item>
            <mdb-carousel-item>
              <div class="view w-100">
                <img class="d-block w-100" [src]="produto.imagem2" alt="Second slide" width="250" height="221">
                <div class="mask rgba-black-strong waves-light" mdbWavesEffect></div>
              </div>

            </mdb-carousel-item>
            <mdb-carousel-item>
              <div class="view w-100">
                <img class="d-block w-100" [src]="produto.imagem1" alt="Third slide" width="250" height="221">
                <div class="mask rgba-black-slight waves-light" mdbWavesEffect></div>
              </div>

            </mdb-carousel-item>
          </mdb-carousel>
        </div>
      </div>


    <div class="col-lg-7 col-md-7 col-sm-8 mt-2">
      <div class="card my-3">
        <div class="card-body">
          <h4 class="card-title text-secondary">
            {{produto.nomeProduto}}
          </h4>
          <h6>R$: {{produto.valor}}</h6>
          <p class="card-text">{{produto.descricao}}</p>
        </div>
        <div class="card-footer">
          <a [routerLink]="['fecharnegocio', produto.idProduto]">
             <button mdbBtn type="button" size="md" gradient="blue" mdbWavesEffect><mdb-icon far icon="handshake" size="1x"></mdb-icon> Fechar negócio</button>
          </a>

        </div>
      </div>
    </div>


  </div>




  <div class="row justify-content-md-center mt-2">
      <mdb-card class="col-lg-3 col-md-5 col-sm-4 justify-content-md-center">
        <mdb-card-body>
              <!--span>É preciso estar logado para enviar uma avaliação</span-->
              <div mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
                        <span aria-hidden="true">×</span>
                      </button>

                      <div class="estrelas">
                        <input  type="radio" id="vazio" name="estrela" value="0" checked>

                        <label for="estrela_um"><i class="fa"></i></label>
                        <input [(ngModel)]="avaliar.nota" type="radio" id="estrela_um" name="estrela" value="1" >

                        <label for="estrela_dois"><i class="fa"></i></label>
                        <input [(ngModel)]="avaliar.nota" type="radio" id="estrela_dois" name="estrela" value="2">

                        <label for="estrela_tres"><i class="fa"></i></label>
                        <input [(ngModel)]="avaliar.nota" type="radio" id="estrela_tres" name="estrela" value="3">

                        <label for="estrela_quatro"><i class="fa"></i></label>
                        <input [(ngModel)]="avaliar.nota" type="radio" id="estrela_quatro" name="estrela" value="4">

                        <label for="estrela_cinco"><i class="fa"></i></label>
                        <input [(ngModel)]="avaliar.nota" type="radio" id="estrela_cinco" name="estrela" value="5"><br><br>

                      </div>
                    </div>
                    <div class="modal-body">
                      <input [(ngModel)]="avaliar.avaliacao" name="avaliar" maxlength="50" type="text" placeholder="Descreva aqui sua avaliação" class="form-control">

                    </div>
                    <div class="modal-footer">
                      <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>Fechar</button>
                      <button type="button" mdbBtn color="primary" class="relative waves-light" mdbWavesEffect (click)="salvarAvaliacao()">Enviar Avaliação</button>
                    </div>
                  </div>
                </div>
              </div>
              <h2 class="font-weight-bold mb-3">Avaliações</h2>
              <h5 *ngIf="media == 0">{{temAvaliacao}}</h5>
              <h3 *ngIf="media > 0">{{media}}</h3>
          <mdb-card-text class="mb-0">Média das notas </mdb-card-text>
          <button mdbBtn type="button" size="md" gradient="purple" class="relative waves-light" (click)="basicModal.show()"  mdbWavesEffect>Avalie</button>
        </mdb-card-body>

      </mdb-card>
      <mdb-card class="col-lg-7 col-md-7 col-sm-8">
        <ul class="list-group list-group-flush" *ngFor="let avaliar of avaliacoes">
          <li class="list-group-item">
            <p><strong>Usuario: </strong>{{avaliar.nomeUsuario}}</p>
            <p><strong>Nota: </strong>Nota: {{avaliar.nota}}/5</p>
            <p>{{avaliar.avaliacao}}</p>
          </li>
        </ul>
      </mdb-card>


  </div>

</div>
